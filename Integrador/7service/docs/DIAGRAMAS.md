# ğŸ“Š Diagramas del Sistema - Seven Service

Este documento contiene diagramas visuales para entender mejor la arquitectura y flujos del sistema.

---

## ğŸ—ï¸ Diagrama de Arquitectura General

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           NAVEGADOR                                 â”‚
â”‚  (Chrome, Firefox, Edge, Safari)                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ HTTP Request
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SERVIDOR APACHE (XAMPP)                         â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              public/index.php (Front Controller)            â”‚   â”‚
â”‚  â”‚  â€¢ Carga configuraciÃ³n (.env)                               â”‚   â”‚
â”‚  â”‚  â€¢ Inicializa autoloader                                    â”‚   â”‚
â”‚  â”‚  â€¢ Maneja errores                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚               â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Core/Router.php                          â”‚   â”‚
â”‚  â”‚  â€¢ Analiza URL (/clientes/crear)                            â”‚   â”‚
â”‚  â”‚  â€¢ Selecciona ruta coincidente                              â”‚   â”‚
â”‚  â”‚  â€¢ Aplica middleware                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚               â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Middleware/AuthMiddleware.php                  â”‚   â”‚
â”‚  â”‚  â€¢ Verifica sesiÃ³n activa                                   â”‚   â”‚
â”‚  â”‚  â€¢ Valida rol de usuario                                    â”‚   â”‚
â”‚  â”‚  â€¢ Redirige si no autorizado                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚               â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          Controllers/ClienteController.php                  â”‚   â”‚
â”‚  â”‚  â€¢ create(): Muestra formulario                             â”‚   â”‚
â”‚  â”‚  â€¢ store(): Guarda en BD                                    â”‚   â”‚
â”‚  â”‚  â€¢ Valida datos                                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚               â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚               Models/Cliente.php                            â”‚   â”‚
â”‚  â”‚  â€¢ create($data): INSERT INTO                               â”‚   â”‚
â”‚  â”‚  â€¢ findAll(): SELECT *                                      â”‚   â”‚
â”‚  â”‚  â€¢ Prepared statements                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚               â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            Core/Database.php (Singleton)                    â”‚   â”‚
â”‚  â”‚  â€¢ PDO Connection                                           â”‚   â”‚
â”‚  â”‚  â€¢ query(), execute()                                       â”‚   â”‚
â”‚  â”‚  â€¢ Transacciones                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ TCP/IP (puerto 5060)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        MYSQL DATABASE                               â”‚
â”‚                    (taller_bicicletas)                              â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   clientes   â”‚  â”‚   productos  â”‚  â”‚   ordenes    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Flujo de AutenticaciÃ³n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Usuario   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1. Visita /login
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AuthController       â”‚
â”‚  @showLogin()         â”‚
â”‚  â€¢ Renderiza form     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ 2. Muestra Vista
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Views/auth/login.php â”‚
â”‚  â€¢ Formulario HTML    â”‚
â”‚  â€¢ Alpine.js          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ 3. POST /login
        â”‚    correo=admin@...
        â”‚    password=***
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AuthController       â”‚
â”‚  @login()             â”‚
â”‚  â€¢ Valida datos       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ 4. Verifica credenciales
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Models/Usuario.php   â”‚
â”‚  @authenticate()      â”‚
â”‚  â€¢ Busca por correo   â”‚
â”‚  â€¢ password_verify()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ 5. Consulta BD
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MySQL: usuarios      â”‚
â”‚  SELECT contraseÃ±a_hashâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ 6. Hash correcto?
        â–¼
     â”Œâ”€â”€â”€â”€â”€â”
     â”‚ SÃ­  â”‚ Crear sesiÃ³n
     â””â”€â”€â”¬â”€â”€â”˜
        â”‚ $_SESSION['usuario_id'] = X
        â”‚ $_SESSION['usuario_rol'] = 'admin'
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Redirigir            â”‚
â”‚  â†’ /dashboard         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Flujo de CreaciÃ³n de Orden

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TÃ©cnico    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1. Click "Nueva Orden"
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OrdenController@create()               â”‚
â”‚  â€¢ Obtiene lista de clientes activos    â”‚
â”‚  â€¢ Obtiene lista de tÃ©cnicos            â”‚
â”‚  â€¢ Renderiza formulario multipaso       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 2. Muestra formulario
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Views/ordenes/create.php               â”‚
â”‚  Paso 1: Seleccionar Cliente            â”‚
â”‚  Paso 2: Seleccionar Bicicleta          â”‚
â”‚  Paso 3: Describir Problema             â”‚
â”‚  Paso 4: Seleccionar Repuestos          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 3. POST /ordenes/crear
       â”‚    + JSON con todos los datos
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OrdenController@store()                â”‚
â”‚  â€¢ Valida datos requeridos              â”‚
â”‚  â€¢ Inicia transacciÃ³n                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 4. Crear orden base
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OrdenServicio->create()                â”‚
â”‚  INSERT INTO ordenes_servicio           â”‚
â”‚  â€¢ id_cliente                           â”‚
â”‚  â€¢ id_bicicleta                         â”‚
â”‚  â€¢ descripcion_problema                 â”‚
â”‚  â€¢ estado = 'Pendiente'                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 5. Obtiene id_orden = 123
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OrdenServicio->agregarProductos()      â”‚
â”‚  FOREACH producto:                      â”‚
â”‚    INSERT INTO detalle_orden            â”‚
â”‚    â€¢ id_orden = 123                     â”‚
â”‚    â€¢ id_producto                        â”‚
â”‚    â€¢ cantidad                           â”‚
â”‚    â€¢ precio_unitario_congelado          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 6. TRIGGER automÃ¡tico
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  after_detalle_orden_insert             â”‚
â”‚  â€¢ UPDATE productos                     â”‚
â”‚    SET stock_actual -= cantidad         â”‚
â”‚  â€¢ INSERT INTO movimientos_inventario   â”‚
â”‚  â€¢ UPDATE ordenes_servicio              â”‚
â”‚    SET costo_total = ...                â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 7. Commit transacciÃ³n
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Response JSON                          â”‚
â”‚  {                                      â”‚
â”‚    "success": true,                     â”‚
â”‚    "orden_id": 123,                     â”‚
â”‚    "redirect": "/ordenes/123"           â”‚
â”‚  }                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 8. JavaScript redirige
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OrdenController@show(123)              â”‚
â”‚  â€¢ Muestra detalle de orden             â”‚
â”‚  â€¢ Estado, productos, costos            â”‚
â”‚  â€¢ Botones de acciÃ³n                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ Diagrama de Base de Datos (Entidades Principales)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   usuarios   â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id_usuario   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ nombre       â”‚              â”‚
â”‚ correo       â”‚              â”‚ id_usuario_creador
â”‚ contraseÃ±a   â”‚              â”‚
â”‚ rol          â”‚              â”‚
â”‚ activo       â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                              â”‚
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   clientes   â”‚              â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚
â”‚ id_cliente   â”‚â—„â”€â”€â”€â”€â”€â”       â”‚
â”‚ nombre       â”‚      â”‚       â”‚
â”‚ telefono     â”‚      â”‚       â”‚
â”‚ email        â”‚      â”‚       â”‚
â”‚ direccion    â”‚      â”‚ id_cliente
â”‚ activo       â”‚      â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚       â”‚
                      â”‚       â”‚
                      â”‚       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚       â”‚
â”‚  bicicletas  â”‚      â”‚       â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚      â”‚       â”‚
â”‚ id_bicicleta â”‚â—„â”€â”   â”‚       â”‚
â”‚ id_cliente   â”‚â”€â”€â”˜   â”‚       â”‚
â”‚ marca        â”‚      â”‚ id_bicicleta
â”‚ modelo       â”‚      â”‚       â”‚
â”‚ tipo         â”‚      â”‚       â”‚
â”‚ color        â”‚      â”‚       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚       â”‚
                      â”‚       â”‚
                      â”‚       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  ordenes_servicio    â”‚      â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚      â”‚
â”‚ id_orden             â”‚      â”‚
â”‚ id_cliente           â”‚â”€â”€â”€â”€â”€â”€â”˜
â”‚ id_bicicleta         â”‚â”€â”€â”€â”€â”€â”€â”˜
â”‚ id_usuario_creador   â”‚â”€â”€â”€â”€â”€â”€â”˜
â”‚ estado               â”‚
â”‚ prioridad            â”‚
â”‚ descripcion_problema â”‚
â”‚ costo_mano_obra      â”‚
â”‚ costo_productos      â”‚
â”‚ costo_total          â”‚
â”‚ fecha_creacion       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ id_orden
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   detalle_orden      â”‚      â”‚  productos   â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id_detalle           â”‚      â”‚ id_producto  â”‚â—„â”€â”
â”‚ id_orden             â”‚      â”‚ id_categoria â”‚  â”‚
â”‚ id_producto          â”‚â”€â”€â”€â”€â”€â”€â–ºâ”‚ sku          â”‚  â”‚
â”‚ cantidad             â”‚      â”‚ nombre       â”‚  â”‚ id_producto
â”‚ precio_unitario      â”‚      â”‚ precio_venta â”‚  â”‚
â”‚ subtotal             â”‚      â”‚ stock_actual â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ stock_minimo â”‚  â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚        pagos         â”‚                        â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚
â”‚ id_pago              â”‚                        â”‚
â”‚ id_orden             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ monto                â”‚
â”‚ metodo_pago          â”‚
â”‚ fecha_pago           â”‚
â”‚ tipo_comprobante     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RELACIONES:
â”€â”€â”€â”€â”€â”€â”€â–º  Uno a Muchos (1:N)
â•â•â•â•â•â•â•â–º  Muchos a Muchos (N:M) - a travÃ©s de tabla intermedia
```

---

## ğŸ“± Diagrama de NavegaciÃ³n (Sitemap)

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  LOGIN  â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                 â”‚
        â–¼                                 â–¼
   [ADMIN/TECNICO]               [ENCARGADO_ALMACEN]
        â”‚                                 â”‚
        â–¼                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  DASHBOARD   â”‚                         â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
    â”‚                                     â”‚
    â”œâ”€â–º ğŸ“Š EstadÃ­sticas                  â”‚
    â”œâ”€â–º âš ï¸ Alertas Stock Bajo            â”‚
    â”œâ”€â–º ğŸ“‹ Ã“rdenes Pendientes            â”‚
    â””â”€â–º ğŸ“ˆ GrÃ¡ficos                      â”‚
                                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  CLIENTES    â”‚                         â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
    â”‚                                     â”‚
    â”œâ”€â–º ğŸ“‹ Listar                        â”‚
    â”œâ”€â–º â• Crear Nuevo                   â”‚
    â”œâ”€â–º ğŸ‘ï¸ Ver Detalle                   â”‚
    â”‚   â””â”€â–º ğŸš² Bicicletas                â”‚
    â”‚   â””â”€â–º ğŸ“œ Historial de Ã“rdenes      â”‚
    â”œâ”€â–º âœï¸ Editar                        â”‚
    â””â”€â–º ğŸ—‘ï¸ Eliminar                      â”‚
                                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚   Ã“RDENES    â”‚                         â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
    â”‚                                     â”‚
    â”œâ”€â–º ğŸ“‹ Listar                        â”‚
    â”‚   â””â”€â–º Filtros: Estado, Fecha       â”‚
    â”œâ”€â–º â• Nueva Orden                   â”‚
    â”‚   â”œâ”€â–º Paso 1: Cliente              â”‚
    â”‚   â”œâ”€â–º Paso 2: Bicicleta            â”‚
    â”‚   â”œâ”€â–º Paso 3: Problema             â”‚
    â”‚   â””â”€â–º Paso 4: Repuestos            â”‚
    â”œâ”€â–º ğŸ‘ï¸ Ver Detalle                   â”‚
    â”‚   â”œâ”€â–º Cambiar Estado                â”‚
    â”‚   â”œâ”€â–º Ver Historial                â”‚
    â”‚   â”œâ”€â–º Agregar Productos            â”‚
    â”‚   â””â”€â–º Registrar Pago               â”‚
    â””â”€â–º ğŸ–¨ï¸ Imprimir                      â”‚
                                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  INVENTARIO  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â–º ğŸ“‹ Listar Productos
    â”‚   â””â”€â–º Filtros: CategorÃ­a, Stock
    â”œâ”€â–º â• Agregar Producto
    â”œâ”€â–º âœï¸ Editar Producto
    â”œâ”€â–º ğŸ” Buscar por SKU
    â”œâ”€â–º ğŸ“Š Reporte de Stock Bajo
    â””â”€â–º ğŸ“¦ Movimientos de Inventario

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USUARIOS    â”‚ [Solo Admin]
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â–º ğŸ“‹ Listar Usuarios
    â”œâ”€â–º â• Crear Usuario
    â”‚   â””â”€â–º Asignar Rol
    â”œâ”€â–º âœï¸ Editar Usuario
    â”œâ”€â–º ğŸ”’ Cambiar ContraseÃ±a
    â””â”€â–º ğŸ—‘ï¸ Desactivar Usuario
```

---

## ğŸ¨ Paleta de Colores y Estados

### Estados de Ã“rdenes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Pendiente              â”‚ ğŸŸ¡ bg-yellow-100         â”‚
â”‚ En DiagnÃ³stico         â”‚ ğŸ”µ bg-blue-100           â”‚
â”‚ Esperando AprobaciÃ³n   â”‚ ğŸŸ  bg-orange-100         â”‚
â”‚ En ReparaciÃ³n          â”‚ ğŸŸ£ bg-purple-100         â”‚
â”‚ Listo para Entrega     â”‚ ğŸŸ¢ bg-green-100          â”‚
â”‚ Entregado              â”‚ âšª bg-gray-100           â”‚
â”‚ Cancelado              â”‚ ğŸ”´ bg-red-100            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Roles de Usuario

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Admin                  â”‚ ğŸ”´ badge-red             â”‚
â”‚ TÃ©cnico                â”‚ ğŸ”µ badge-blue            â”‚
â”‚ Encargado AlmacÃ©n      â”‚ ğŸŸ¢ badge-green           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Matriz de Permisos

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    MÃ“DULO        â”‚ Admin â”‚ TÃ©cnico  â”‚ Encargado Alm. â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Dashboard        â”‚  âœ…   â”‚    âœ…    â”‚      âœ…        â”‚
â”‚ Ver EstadÃ­sticas â”‚  âœ…   â”‚    âœ…    â”‚      âœ…        â”‚
â”‚                  â”‚       â”‚          â”‚                â”‚
â”‚ Clientes         â”‚       â”‚          â”‚                â”‚
â”‚ â€¢ Listar         â”‚  âœ…   â”‚    âœ…    â”‚      âŒ        â”‚
â”‚ â€¢ Crear          â”‚  âœ…   â”‚    âœ…    â”‚      âŒ        â”‚
â”‚ â€¢ Editar         â”‚  âœ…   â”‚    âœ…    â”‚      âŒ        â”‚
â”‚ â€¢ Eliminar       â”‚  âœ…   â”‚    âŒ    â”‚      âŒ        â”‚
â”‚                  â”‚       â”‚          â”‚                â”‚
â”‚ Ã“rdenes          â”‚       â”‚          â”‚                â”‚
â”‚ â€¢ Listar         â”‚  âœ…   â”‚    âœ…    â”‚      âŒ        â”‚
â”‚ â€¢ Crear          â”‚  âœ…   â”‚    âœ…    â”‚      âŒ        â”‚
â”‚ â€¢ Editar Estado  â”‚  âœ…   â”‚    âœ…    â”‚      âŒ        â”‚
â”‚ â€¢ Eliminar       â”‚  âœ…   â”‚    âŒ    â”‚      âŒ        â”‚
â”‚                  â”‚       â”‚          â”‚                â”‚
â”‚ Inventario       â”‚       â”‚          â”‚                â”‚
â”‚ â€¢ Listar         â”‚  âœ…   â”‚    âœ…    â”‚      âœ…        â”‚
â”‚ â€¢ Crear          â”‚  âœ…   â”‚    âŒ    â”‚      âœ…        â”‚
â”‚ â€¢ Editar         â”‚  âœ…   â”‚    âŒ    â”‚      âœ…        â”‚
â”‚ â€¢ Eliminar       â”‚  âœ…   â”‚    âŒ    â”‚      âœ…        â”‚
â”‚ â€¢ Ajustar Stock  â”‚  âœ…   â”‚    âŒ    â”‚      âœ…        â”‚
â”‚                  â”‚       â”‚          â”‚                â”‚
â”‚ Usuarios         â”‚       â”‚          â”‚                â”‚
â”‚ â€¢ Listar         â”‚  âœ…   â”‚    âŒ    â”‚      âŒ        â”‚
â”‚ â€¢ Crear          â”‚  âœ…   â”‚    âŒ    â”‚      âŒ        â”‚
â”‚ â€¢ Editar         â”‚  âœ…   â”‚    âŒ    â”‚      âŒ        â”‚
â”‚ â€¢ Eliminar       â”‚  âœ…   â”‚    âŒ    â”‚      âŒ        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ MÃ©tricas de Performance

### Objetivos de Rendimiento

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MÃ‰TRICA                â”‚ OBJETIVO    â”‚ ACTUAL   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Tiempo de Carga Login  â”‚  < 1s       â”‚  0.8s    â”‚
â”‚ Tiempo de Carga Dash   â”‚  < 2s       â”‚  1.5s    â”‚
â”‚ Consulta BD (simple)   â”‚  < 100ms    â”‚  50ms    â”‚
â”‚ Consulta BD (compleja) â”‚  < 500ms    â”‚  300ms   â”‚
â”‚ TamaÃ±o HTML (gzip)     â”‚  < 50KB     â”‚  35KB    â”‚
â”‚ Tiempo Primera Pintura â”‚  < 1.5s     â”‚  1.2s    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Estos diagramas te ayudarÃ¡n a:**
1. Entender el flujo completo del sistema
2. Visualizar las relaciones entre componentes
3. Explicar la arquitectura a tu equipo
4. Documentar decisiones de diseÃ±o

---

*Documento creado para facilitar el aprendizaje y mantenimiento del sistema Seven Service*
